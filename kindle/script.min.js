'use strict';var app=new Vue({el:'#app',data:{raw:'',clippings:[],search:'',loading:!0,authors:[]},mounted:function mounted(){var b=this;this.$http.get('My Clippings.txt').then(function(d){b.raw=d.data,b.clippings=b.process(),b.authors=b.setAuthors(),b.loading=!1},function(d){console.log('There was an error loading the text file.')})},methods:{viewAuthor:function viewAuthor(b){this.search=b,scroll(0,0)},setAuthors:function setAuthors(){var b=[];return this.clippings.forEach(function(d){var e=/\(([^)]+)\)/,f=e.exec(d.title);null==f||b.includes(f[1])||b.push(f[1])}),b},process:function process(){var b=this.raw.split('==========').reverse(),d=[];return b.forEach(function(e,f){var g={},h=e.split('\n');if(0==f)g.title=h[0],g.text=h[3],h[1]=h[1].split(' | '),g.meta=h[1][h[1].length-1];else{if(''==h[1])return;g.title=h[1],g.text=h[4],h[2]=h[2].split(' | '),g.meta=h[2][h[2].length-1]}2<h.length&&d.push(g)}),d}},computed:{filteredClippings:function filteredClippings(){var b=this;return b.clippings.filter(function(d){return-1!==d.title.toLowerCase().indexOf(b.search.toLowerCase())||-1!==d.text.toLowerCase().indexOf(b.search.toLowerCase())})}}});
